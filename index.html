<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Bank</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="entry">
        <h1 class="text-center">Welcome to Local Bank</h1>
        <div class="form-area">
            <h4>Login</h4>
            <input type="email" class="form-control" name="" id="" placeholder="Email">
            <br>
            <input type="password" class="form-control" name="" id="" placeholder="Password">
            <br>
            <button id="login" class="btn btn-success">Submit</button>
        </div>
    </div>

    <div id="bank">
        <div class="row">
            <div class="col-md-4">
                <div class="box deposit">
                    <h4>Deposit</h4>
                    <h2>$<span id="currentDeposit">00</span></h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="box withdraw">
                    <h4>Withdraw</h4>
                    <h2>$<span id="currentWithdraw">00</span></h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="box balance">
                    <h4>Balance</h4>
                    <h2>$<span id="currentBalance">1200</span></h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-area">
                    <h4>Deposit</h4>
                    <input id="depositValue" type="text" name="" id="" class="form-control" placeholder="$ amount you want to deposit">
                    <br>
                    <button id="addDeposit" class="btn btn-success">Deposit</button>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-area">
                    <h4>Withdraw</h4>
                    <input id="withdrawValue" type="text" name="" id="" class="form-control" placeholder="$ amount you want to withdraw">
                    <br>
                    <button id="addWithdraw" class="btn btn-success">Withdraw</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        ///// for login part
        document.getElementById('login').addEventListener('click', function(event){
            const entry = document.getElementById('entry');
            entry.style.display = 'none';

            const bank = document.getElementById('bank');
            bank.style.display = 'block';
        });

        ///for Deposit part
        document.getElementById('addDeposit').addEventListener('click', function(){
            ///// Current value 
            // const depositValue = document.getElementById('depositValue').value;
            // const depositNumber = parseFloat(depositValue);
            // document.getElementById('depositValue').value = "";

            //// setup new value
            // const currentDeposit = document.getElementById('currentDeposit').innerText;
            // const currentDepositNumber = parseFloat(currentDeposit);
            // const totalDeposit = depositNumber + currentDepositNumber;
            // document.getElementById('currentDeposit').innerText = totalDeposit;

            //// Current Balance
            // const currentBalance = document.getElementById('currentBalance').innerText;
            // const currentBalanceNumber = parseFloat(currentBalance);
            // const newBalance = currentBalanceNumber + depositNumber;
            // document.getElementById('currentBalance').innerText = newBalance;


            /// Get value from function
            const depositNumber = gettingValue('depositValue');
            //// Deposit Update from function
            updateValue('currentDeposit', depositNumber);
            
            ///// Balance Update from function
            updateValue('currentBalance', depositNumber);

        });

        ///// For withdraw part
        document.getElementById('addWithdraw').addEventListener('click', function(){
            ///// Current value 
            // const withdrawValue = document.getElementById('withdrawValue').value;
            // const withdrawNumber = parseFloat(withdrawValue);
            // document.getElementById('withdrawValue').value = "";
            
            //// setup new value
            // const currentWithdraw = document.getElementById('currentWithdraw').innerText;
            // const currentWithdrawNumber = parseFloat(currentWithdraw);
            // const totalWithdraw = withdrawNumber + currentWithdrawNumber;
            // document.getElementById('currentWithdraw').innerText = totalWithdraw;

            //// Current Balance
            // const currentBalance = document.getElementById('currentBalance').innerText;
            // const currentBalanceNumber = parseFloat(currentBalance);
            // const finalBalance = currentBalanceNumber - withdrawNumber;
            // document.getElementById('currentBalance').innerText = finalBalance;
            // gettingValue('withdrawValue');

            /// Getting Value and using function
            const withdrawNumber = gettingValue('withdrawValue');
            //////// Update value from function
            updateValue('currentWithdraw', withdrawNumber);
            
            //// Update Balance with function
            updateValue('currentBalance', -1 * withdrawNumber);
        });

        //// For getting value
        function gettingValue(id){
            const value = document.getElementById(id).value;
            const number = parseFloat(value);
            document.getElementById(id).value = "";
            
            if(isNaN(number) || number <= 0){
                alert("Sorry, It's not a valid number");
                return 0;
            } else {
                return number;
            }

        }

        ///// For Update value
        function updateValue(id, newNumber){
            const current = document.getElementById(id).innerText;
            const currentNumber = parseFloat(current);
            const final = currentNumber + newNumber;
            document.getElementById(id).innerText = final;
        }

    </script>
</body>
</html>